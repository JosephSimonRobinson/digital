{"ast":null,"code":"import _slicedToArray from \"/Users/josephrobinson/Desktop/discordgeek/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/josephrobinson/Desktop/discordgeek/client/src/pages/dashboard.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ResourcesTable from './myResources';\nimport Header from '../components/header';\nimport Footer from '../components/footer';\nimport MissingPage from '../components/missingPage.js';\nimport Settings from './settings';\nimport { Route, Switch, NavLink, useRouteMatch } from 'react-router-dom';\n\nvar Dashboard = function Dashboard() {\n  var _useState = useState('Skythz Studios'),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      resources = _useState4[0],\n      setResources = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      bal = _useState6[0],\n      setBal = _useState6[1];\n\n  var result;\n  var ownedResources;\n  useEffect(function () {\n    axios.get('http://localhost:3001/users').then(function (response) {\n      ownedResources = response.data[user].resources;\n      setBal(response.data[user].balance);\n      return axios.get('http://localhost:3001/resources');\n    }).then(function (response) {\n      result = response.data.filter(function (item) {\n        return ownedResources.includes(item.id);\n      });\n      setResources(result);\n    });\n  }, []);\n\n  var _useRouteMatch = useRouteMatch(),\n      path = _useRouteMatch.path,\n      url = _useRouteMatch.url;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    small: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container dashboard\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Provans Dashboard\"), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    exact: true,\n    activeClassName: \"active\",\n    to: \"\".concat(url),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 67\n    }\n  }, \"My Resources\")), /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"\".concat(url, \"/settings\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 70\n    }\n  }, \"Profile Settings\")), /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"\".concat(url, \"/payout\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 68\n    }\n  }, \"Request Payout (\", /*#__PURE__*/React.createElement(\"span\", {\n    id: \"availableBal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 88\n    }\n  }, \"\\xA3\", bal), \")\")))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"\".concat(path, \"/settings\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Settings, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"\".concat(path, \"/payout\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Payout\")), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: path,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ResourcesTable, {\n    resources: resources,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"*\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MissingPage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","ResourcesTable","Header","Footer","MissingPage","Settings","Route","Switch","NavLink","useRouteMatch","Dashboard","user","setUser","resources","setResources","bal","setBal","result","ownedResources","get","then","response","data","balance","filter","item","includes","id","path","url"],"sources":["/Users/josephrobinson/Desktop/discordgeek/client/src/pages/dashboard.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport ResourcesTable from './myResources'\r\nimport Header from '../components/header'\r\nimport Footer from '../components/footer'\r\nimport MissingPage from '../components/missingPage.js'\r\n\r\nimport Settings from './settings'\r\n\r\nimport {\r\n  Route,\r\n  Switch,\r\n  NavLink,\r\n  useRouteMatch\r\n} from 'react-router-dom'\r\n\r\n\r\nconst Dashboard = () => {\r\n\r\n  const [user, setUser] = useState('Skythz Studios')\r\n\r\n  const [resources, setResources] = useState({})\r\n\r\n  const [bal, setBal] = useState(0)\r\n\r\n\r\n  let result\r\n\r\n  let ownedResources\r\n\r\n  useEffect(() => {\r\n\r\n    axios\r\n      .get('http://localhost:3001/users')\r\n      .then(response => {\r\n        ownedResources = response.data[user].resources\r\n        setBal(response.data[user].balance)\r\n        return axios.get('http://localhost:3001/resources')\r\n      })\r\n\r\n      .then(response => {\r\n        result = response.data.filter(item => ownedResources.includes(item.id))\r\n        setResources(result)\r\n      })\r\n\r\n  }, [])\r\n\r\n\r\n\r\n  let { path, url } = useRouteMatch();\r\n\r\n\r\n  return(\r\n    <div>\r\n      <Header small/>\r\n      <div className=\"container dashboard\">\r\n        <h1 className=\"title\">Provans Dashboard</h1>\r\n        <nav>\r\n          <ul>\r\n            <NavLink exact activeClassName=\"active\" to={`${url}`}><li>My Resources</li></NavLink>\r\n\r\n            <NavLink activeClassName=\"active\" to={`${url}/settings`}><li>Profile Settings</li></NavLink>\r\n\r\n            <NavLink activeClassName=\"active\" to={`${url}/payout`}><li>Request Payout (<span id=\"availableBal\">Â£{bal}</span>)</li></NavLink>\r\n\r\n          </ul>\r\n        </nav>\r\n        <hr />\r\n\r\n        {/* Nested Router */}\r\n        <Switch>\r\n\r\n          <Route path={`${path}/settings`}>\r\n            <Settings />\r\n          </Route>\r\n          <Route path={`${path}/payout`}>\r\n            <h1>Payout</h1>\r\n          </Route>\r\n          <Route exact path={path}>\r\n            <ResourcesTable resources={resources}/>\r\n          </Route>\r\n          <Route path=\"*\">\r\n            <MissingPage />\r\n          </Route>\r\n        </Switch>\r\n\r\n      </div>\r\n      <Footer/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}